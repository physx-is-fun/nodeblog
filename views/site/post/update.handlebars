<section class="section single-wrapper">
	<div class="container">
		<div class="row align-items-center">
			<div class="col-12">
			
				<div class="row" data-aos="fade-down">
					<div class="col-md-4 offset-md-4 text-center">
						<div class="section-header text-center">
							<h2 class="title">Update post</h2>
						</div>
					</div>
				</div>
	
				<div class="row">
					<div class="wide-form col-md-8">
						{{> messages}}
						<input type="hidden" name="_csrf" value="{{csrfToken}}">
					</div>
				</div>
				
				<div class="row">
					<div class="wide-form col-lg-9 col-md-12 col-sm-12 col-xs-12" data-aos="fade-down">
						<form action ="/posts/update/{{post.id}}" method="POST" enctype="multipart/form-data" onsubmit="requestHandler()">
							<div class="form-group">
								<div class="input-group">                
									<span class="input-group-addon" id="basic-addon1"><span class="fa fa-list"></span></span>
									<input class="form-control" name="title" type="text" placeholder="Post title" required="required" data-validation-required-message="Please enter the title." value="{{post.title}}">
								</div>
							</div>
							<div class="input-group">
								<span class="input-group-addon" id="basic-addon1"><span class="fa fa-list"></span></span>
								<input class="form-control" name="intro" type="text" placeholder="Post intro *" required="required" data-validation-required-message="Please enter the intro." value="{{post.intro}}">
							</div>
							<div class="form-group">
								<label class="sr-only" for="message">Message</label>
								<textarea class="form-control" name="content" id="message" rows="6" placeholder="Post content *" required="required" data-validation-required-message="Please enter the content.">{{post.content}}</textarea>
							</div>
						    <div class="form-group">
								<select class="form-control" name="category" required>
									{{# if categories.length }}
										<option disabled value selected>Please select a category.</option>
										{{# each categories }}
											<option value="{{id}}" {{isSelected ../post.category id}}>{{name}}</option>
										{{/each}}
									{{/if}}
								</select>
							</div>
							<div class="form-group">
								<select class="form-control" name="heading" required>
									{{# if headings.length }}
										<option disabled value selected>Please select a heading.</option>
										{{# each headings }}
											<option value="{{id}}" {{isSelected ../post.heading id}}>{{name}}</option>
										{{/each}}
									{{/if}}
								</select>
							</div>
						  <div class="form-group">
							<input class="form-control" name="post_image" type="file" data-validation-required-message="Please choose an image." onchange="loadFile(event)">
							<p class="help-block text-danger"></p>
							<img id="output" src="{{post.post_image}}" class="centerimage"/>
						  </div>
						  <div class="form-group text-left">
							<input type="checkbox" required="required"> 
							I accept the <a href="#">terms of conditions</a>, the <a href="#">privacy policy</a> and the <a href="#">cookie policy</a>. 
						  </div>
						  <div class="form-group text-left">
							<div class="btn-group">
								<button class="btn btn-success submit" type="submit" onclick="return confirm('Do you wish to update the post?');">
								  Update post
								</button>
							</div>
						  </div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>